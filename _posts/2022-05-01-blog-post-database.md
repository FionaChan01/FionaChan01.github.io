---
title: 'FiFi‘s School Work: Data Base'
date: 2022-05-01
permalink: /posts/2022/05/blog-post-database/
tags:
  - CS
  - Knowledge
---

重庆大学计算机学院 ｜ 22Spring ｜ 数据库系统概论

# 数据库系统开发的主要过程

### Ⅰ 需求分析

- 功能需求 --> 功能需求说明书/ 用例图+时序图
- 数据需求 --> 数据需求说明书/ 用例图+时序图+数据流程图
	- 需求分析需要考虑应用功能和所设计的数据，包含数据库需求分析：仅仅考虑需要保存哪些数据
	- 核心任务：确定待保存的数据对象和它存在的关联。其他任务还有：数据约束、数据访问频率、数据访问安全、数据可靠性、数据响应效率，等，这些是保证数据库真正可用的关键。

### Ⅱ 系统设计

#### 1. 概念设计 --> ER模型

- **E-R模型的三个最基本的要素：**

	- **实体集**&**属性**(矩形)-描述数据对象及特征(内部结构)

		- **弱实体集特点**

			1) 没有键；

			2) 存在依赖于主实体集；

			3) 键由主实体集键和它的**分辨符**合并构成；

	- **联系集**(菱形&连线)-描述数据对象间联系(外部结构) --> 相关类型联系的集合

		- 双线：全部参与                                                                    

			单线：不是全部参与    

		- 【箭头看上限】                                                        

			没有箭头：多对多                                                   

			两边都有箭头：一对一                                            

			一边有一边没有箭头：一对多

- **复合属性&多值属性**

	- 将几个单值属性代替多值属性
	- 讲原来的多值属性用一个新的实体代替

- **多元联系集和角色**：多元联系的二元分解

- **特殊化和一般化（子实体集的继承）**

	- 特化：自顶向下的设计过程
	- 概化：自底向上的设计过程

- 聚集

	- 是一种抽象，将联系集看成一个更高层的抽象实体集

- **理论上讲：**E-R模型可描述任何复杂客观对象，实体集可以是任何一种复杂数据结构**因为：**E-R模型重点是**面向客观世界**，建立**易于用户理解**的抽象数据模型 (它不关心数据如何才能够被实际存储）

#### 2. 逻辑设计 --> 关系模式

- **数据模型**

	- 数据模型三个基本要素

	  > 是一个描述数据、数据联系、数据语义以及数据一致性约束的概念工具的集合

	  - 数据结构：创建数据库的规则
	  - 数据操作：对数据进行的操作类型
	  - 约束条件：一组数据完整性约束规则

	- 层次模型 -> 树🌲

		> 优点：
		> 数据模型比较简单，操作简单。    
		> 对于实体间联系是固定的，且预先定义好的应用系统，性能较高。
		> 提供良好的完整性支持。
		> 缺点：
		> 不适合于表示非层次性的联系。
		> 对插入和删除操作的限制比较多。
		> 查询子女结点必须通过双亲结点。

		- 利用“记录”和“双亲子女关系”来描述应用的数据结构
		- 非层次化结构的记录
			- 采用副本：带来数据冗余
			- 虚拟记录：指针操作增加开销
		- 定义物理存储结构
			- 邻接法
		- 定义基本数据操作
			- 查找给定条件的记录
			- 查找下一亲兄弟
			- ...

	- 网状模型 -> 图🗺️

		> 不同点：
		>
		> 它去掉了层次模型的两个限制：
		> 	允许多个结点没有双亲结点；
		> 	允许结点有多个双亲结点。
		> 它还允许两个结点之间有多种联系（复合联系）
		>
		> 优点：
		> 能够更为直接地描述现实世界。
		> 具有良好的性能，存取效率较高。
		> 缺点：
		> 其DDL语言极其复杂。
		> 数据独立性较差。由于实体间的联系本质上通过存取路径指示的，因此应用程序在访问数据时要指定存取路径。

		- 记录的表示
			- 记录、数据项
		- 存储结构
			- 链接法（采用指针链实现复杂数据类型）
		- 基本数据操作
			- Find
			- Get
			- ...

- **关系模型**

	- 结构
		- 关系名
		- 关系模式：属性
		- 关系：实例
	- 第一范式 1NF
		- 要求关系的属性具有原子性：如分量个数固定
	- 码与模式图
		- 主码：一个关系仅允许有唯一的主码，区分不同原组
		- 超码：是一个或多个属性的集合，这些属性可以让我们在一个实体集（所谓的实体集就是student表中多条记录的集合）中唯一地标识一个实体。如果K是一个超码，那么K的任意超集也是超码，也就是说如果K是超码，那么所有包含K的集合也是超码
		- 候选码：超码包括候选码，虽然超码可以唯一标识一个实体，但是可能大多数超码中含有多余的属性，所以我们需要候选码。若关系中的一个属性或属性组的值能够唯一地标识一个元组，且它的真子集不能唯一的标识一个元组，则称这个属性或属性组做候选码
		- 外键：通过一个表中的指定字段，可以把数据与另一个张表关联起来，这种列成为外键，作用：说明元祖联系，保证数据有效性
		- 模式图：描述数据对象的内部结构、特征和相互关联、以及对象间的关联

- **关系运算**

	> 过程化的查询语言

	- 基本关系运算
		- 【包括并(∪)、差(-)、广义笛卡尔积(×)、投影(π，垂直分解)和选择(σ，水平方向抽取元祖)，重命名（ρ）】，
	- 附加运算
		- 交、自然连接（⋈，元祖按属性值相同粘贴），赋值运算（<-），外连接运算（outer join，左，右，全）
	- 扩展的关系代数运算
		- 广义投影运算（允许属性表达式）
		- 聚集函数$g_(sum), g_(avg),g_(min),g_(max),g_(count)$
		- 

- 数据库结构优化设计

- 数据完整性设计 -> 关系模型的完整性约束

	- 概要
		- 定义：对关系的某种约束条件
		- 目的：在于保证关系数据库中数据的正确性和可靠性
	- 类型
		- 实体完整性规则：在任何关系的任何一个元组中，主键的值不能为空值、也不能取重复的值
			- 保证每一个元祖都是唯一的
		- 域完整性规则（用户定义完整性规则）：根据实际情况，定义表中属性的取值范围
			- 用于保证给定字段的数据有效性
		- 参照完整性规则（引用完整性规则）：不允许一个关系中引用另一个关系中不存在的元祖
			- 用于确保相关联的表间数据保持一致

- 数据安全设计

- 物理设计 --> 建立物理存储模型

### Ⅲ 系统实现

- 数据库实现
- 应用开发 --> SQL

### Ⅳ 系统运行和维护

- 运行系统
- 数据维护 --> 数据更新，结构修改，数据备份
- 数据分析 --> 数据仓库，数据挖掘